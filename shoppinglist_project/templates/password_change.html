{% extends 'base.html' %}
{% block content %}
<h2>パスワード変更</h2>

<form method="post" novalidate>
  {% csrf_token %}
  {{ form.non_field_errors }}

  {# ── 現在のパスワード ── #}
  <p>
    {{ form.old_password.label_tag }}<br>
    {{ form.old_password }}
    {{ form.old_password.errors }}
  </p>

  {# ── 新パスワード１：入力欄＋❓を横並び ── #}
  <p>
    {{ form.new_password1.label_tag }}<br>
    <div class="pw-field">
        {{ form.new_password1 }}
        {% include "partials/password_rule.html" %}
    </div>
    {{ form.new_password1.errors }}
  </p>

  {# ── 新パスワード２（確認用） ── #}
  <p>
    {{ form.new_password2.label_tag }}<br>
    {{ form.new_password2 }}
    {{ form.new_password2.errors }}
  </p>

  <button type="submit"
          class="btn-secondary"
          style="padding:10px; background: #6c757d; color:white; border:none;">
      パスワードを変更する
  </button>
</form>

<a href="{% url 'app:home' %}"
   style="margin-top:15px; display:inline-block;">キャンセルしてホームへ戻る</a>
{% endblock %}
